# 一、Cnd-data 经纬度地址详细数据

### 1. 获取数据

#### 1.1. 程序直接从网上获取解析JSON数据



#### 1.2. 手动直接先下载JSON数据到本地，然后java程序从本地load数据



### 2. 装载数据并解析数据

> 剔除无效数据

### 3.  加入缓存

### 4. 批量插入数据到数据库



# 二、 Github 省市区统计数据

## 1. 全部数据初始化插入

### 1.1 从本地加载csv文件

### 1.2 装载并解析数据

### 1.3 加入缓存

### 1.4 批量插入数据到数据库



## 2. 当天数据更新

### 2.1 从本地加载json文件

2.2 装载并解析数据

### 2.2 与缓存中数据做比较

注意key为更新时间+省+市

- 有，且时间最新， 则更新
- 有，且小于缓存中时间，则忽略
- 无， 则更新

### 2.3 更新



# 三、定时任务

### 3.1 每天定时获取某个文件夹的具体文件

### 3.2 根据任务上述任务类型执行

- 循环执行一、二所有步骤

- 注意新数据的数据校验

  > 1. 根据address字段判断, 如果缓存中不存在， 则插入；否则忽略
  > 2. 根据更新时间+省+市判断



# 四、系统启动 

- 从数据库load数据到缓存

- 启动三的定期任务



# 五、 TODO

### 1. 定时任务

### 2. 系统启动

### 3. 全自动下载及解析文件